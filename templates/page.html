{% extends "base.html" %}

{# Template settings: set jumbotron_background_image and caption based on metadata #}
{% if page.cover_image %}
    {% if page.cover_image.startswith("http") %}
        {% set jumbotron_background_image = "background-image: url('" + page.cover_image + "')" %}
    {% else %}
        {% set jumbotron_background_image = "background-image: url('" + SITEURL + "/static/cover_images/" + page.cover_image + "')" %}
    {% endif %}
    {% if page.cover_image_ref and page.cover_image_by %}
        {%set jumbotron_caption = '<a href="' + page.cover_image_ref + '">Image</a> by ' + page.cover_image_by %}
    {% endif %}
{% else %}
    {% set jumbotron_background_image = "" %}
{% endif %}

{# Page template #}
{% block title %}{{ page.title }}{% endblock %}

{% block content %}
    <div class="jumbotron tdwg-jumbotron" style="{{ jumbotron_background_image }}">
        <div class="container">
            <h1>{{ page.title }}</h1>
        </div>
    </div>
    {% if jumbotron_caption %}
        <div class="container tdwg-jumbotron-caption">
            <p>{{ jumbotron_caption }}</p>
        </div>
    {% endif %}

    <div class="container pt-3 tdwg-page-content">
        {% if page.intro %}
            <p class="lead">{{ page.intro }}</p>
        {% endif %}

        {% if page.learn_more %}
        <a class="btn btn-lg btn-primary mb-4" href="{{ page.learn_more }}">Learn more</a>
        {% endif %}

        {{ page.content }}
    </div>
{% endblock %}
